<!DOCTYPE html>
<!--
/**
 * jQuery-KingTable 1.0.0
 * https://github.com/RobertoPrevato/jQuery-KingTable
 *
 * Copyright 2015, Roberto Prevato
 * http://ugrose.com
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
-->
<html lang="en">
<head>
  <!-- Force latest IE rendering engine or ChromeFrame if installed -->
  <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->
  <meta charset="utf-8">
  <title>jQuery-KingTable</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="description" content="jQuery-KingTable, a jQuery plugin for administrative tables that are able to build themselves, on the basis of their input data." />
  <meta name="copyright" content="Copyright 2015 Roberto Prevato roberto.prevato@gmail.com" />
  <!-- Page styles-->
  <link rel="stylesheet" href="styles/examples.css">
  <link rel="stylesheet" href="styles/kingtable/kingtable.css">
</head>
<body class="theme-flatwhite">
  <header id="header">
    <div id="logo-region">
      <img src="/styles/logo.png" alt="Roberto Prevato" width="91" height="50">
      <h6><a href="https://github.com/RobertoPrevato/jQuery-KingTable">Roberto Prevato - roberto.prevato@gmail.com</a></h6>
    </div>
    <h1>jQuery-KingTable<span> - example with server side pagination and search</span></h1>
    <label for="theme">Theme</label>
    <select id="theme">
      <option value="theme-flatwhite" selected="selected">Flat white</option>
      <option value="theme-flatblack">Flat black</option>
      <option value="theme-clear">Clear</option>
      <option value="theme-dark">Dark</option>
      <option value="theme-midnight">Midnight</option>
      <option value="theme-olive">Olive</option>
      <option value="theme-bronze">Bronze</option>
      <option value="theme-ultramarine">Ultramarine</option>
    </select>
  </header>
  <div id="content"></div>
  <footer id="footer"></footer>
  <!-- libs -->
  <script src="scripts/libs/lodash.js"></script>
  <script src="scripts/libs/jquery.js"></script>
  <script src="scripts/libs/r.js"></script>
  <script>
      R.debug = true;
  </script>
  <!-- setup -->
  <script src="scripts/areas/common/setup.js"></script>
  <script src="scripts/areas/public/ready.js"></script>
  <!-- utility function for localization -->
  <script src="scripts/libs/i.js"></script>
  <script src="scripts/areas/public/locale/en.js"></script>
  <script src="scripts/areas/public/locale/it.js"></script>
  <script src="scripts/areas/public/locale/pl.js"></script>
  <!-- core functions -->
  <script src="scripts/shared/components/extend.js"></script>
  <script src="scripts/shared/components/events.js"></script>
  <script src="scripts/shared/components/string.js"></script>
  <script src="scripts/shared/components/regex.js"></script>
  <script src="scripts/shared/components/date.js"></script>
  <script src="scripts/shared/components/reflection.js"></script>
  <script src="scripts/shared/components/array-search.js"></script>
  <script src="scripts/shared/data/object-analyzer.js"></script>
  <script src="scripts/shared/data/sanitizer.js"></script>
  <script src="scripts/shared/data/query.js"></script>
  <script src="scripts/shared/filters/filters-manager.js"></script>
  <script src="scripts/libs/kingtable/kingtable-core.js"></script>
  <script src="scripts/libs/kingtable/jquery.kingtable.js"></script>
  <script src="scripts/libs/kingtable/lodash/jquery.kingtable-lodash.js"></script>
  <script src="scripts/libs/kingtable/lodash/templates.js"></script>
  <script>
    (function () {

      /**
       * Rjs condensed version.
       * 
       * Write documentation; examples.
       *
       * About usability.
       *
       *
       * Future:
       * Knockout version.
       * Angular version?
       * I18n library support.
       * Example page with details view.
       * Support client side formatting; otherwise expect server side formatting (example: Datetimes formatted as 30/05/1986 rather than 05/30/1986.
       * Allow to define formatters inside column properties
       * Filters wizard
       * Use open icons: https://useiconic.com/open#icons for the pagination bar
       * Allow to hide columns and sort them using sortable.
       * Support change of data collection (nice to have, low priority)
       * menu and toolstrip
       * grouping of columns
       * Example with client side routing (Simrou)
       * Example of fast-growing table: logic to keep track of showned records
       * Example of custom elements for table (div, ul), by option. (Requires implementation and testing)
      * */

      //example: overriding base function
      //(i.e.) if you don't like the "Go to details" icon...
      /*
      _.extend($.KingTable.prototype, {
          getGoToDetailsLink: function () {
            var self = this, cellTagName = "td", options = self.options;
            var idProperty = options.getIdProperty();
            var detailRoute = options.detailRoute;
            return self.string.format("<{0} class=\"{1}\"><a href=\"{2}{{" + idProperty + "}}\">details</a></{0}>", cellTagName, "detail-link", detailRoute);
          }
      });
      */
      //add reference to window, just for debugging purpose
      var table = window.kingTable = new $.KingTable({
        id: "colors-table",
        $el: $("#content"),
        url: "/api/colors",//url where to fetch data
        //url: "http://127.0.0.1:44669/api/profiles",
        //fixed: true,//the collection doesn't require server side pagination
        //resultsPerPageSelect: [10, 30, 50, 100, 200, 500], // allows to specify a different page size (too high values not recommended)
        //useQueryString: false, // do not use the query string (not recommended for usability)
        orderBy: "name",
        sortOrder: "asc",
/*
        detailRoute: "/api/color/",
        getIdProperty: function () {
          return "color";
        },
*/
        columns: {
          name: "Name",
          color: {
            displayName: "Color",
            template: "<span class=\"ui-color\" style=\"background-color:{{color}}\"></span>{%print($highlight(color))%}"
          },
          red: "Red",
          green: "Green",
          blue: "Blue",
          hue: "Hue",
          hslLight: "Light (HSL)",
          hslSaturation: "Saturation (HSL)",
          hsvSaturation: "Saturation (HSV)",
          hsvValue: "Value (HSV)"
        }
      });

      table.render();
    })();
  </script>
</body>
</html>

